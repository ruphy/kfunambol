<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Funambol C++ Client Library: WinEvent Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li id="current"><a href="annotated.html"><span>Classes</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
    <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
    <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
  </ul></div>
<h1>WinEvent Class Reference<br>
<small>
[<a class="el" href="group__win__adapter.html">Win_adapter</a>]</small>
</h1><!-- doxytag: class="WinEvent" --><!-- doxytag: inherits="WinItem" -->Rapresents an event object for Windows Clients.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="WinEvent_8h-source.html">WinEvent.h</a>&gt;</code>
<p>
Inheritance diagram for WinEvent:<p><center><img src="classWinEvent__inherit__graph.png" border="0" usemap="#WinEvent__inherit__map" alt="Inheritance graph"></center>
<map name="WinEvent__inherit__map">
<area href="classWinEventSIF.html" shape="rect" coords="6,156,110,180" alt="">
<area href="classWinItem.html" shape="rect" coords="20,7,95,31" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center>Collaboration diagram for WinEvent:<p><center><img src="classWinEvent__coll__graph.png" border="0" usemap="#WinEvent__coll__map" alt="Collaboration graph"></center>
<map name="WinEvent__coll__map">
<area href="classWinItem.html" shape="rect" coords="20,7,95,31" alt="">
<area href="classWinRecurrence.html" shape="rect" coords="63,84,183,108" alt="">
</map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center><a href="classWinEvent-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="7227b24bac54fe9c6c254f6398b2bf4b"></a><!-- doxytag: member="WinEvent::WinEvent" ref="7227b24bac54fe9c6c254f6398b2bf4b" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWinEvent.html#7227b24bac54fe9c6c254f6398b2bf4b">WinEvent</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Default Constructor. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="077adb7a7e9d16a8538e08ad2d10b3e6"></a><!-- doxytag: member="WinEvent::WinEvent" ref="077adb7a7e9d16a8538e08ad2d10b3e6" args="(const wstring dataString)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWinEvent.html#077adb7a7e9d16a8538e08ad2d10b3e6">WinEvent</a> (const wstring dataString)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Constructor: fills propertyMap parsing the passed vCalendar string. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="ee9f64ac5a3c5ae3ce3a78f1e7179009"></a><!-- doxytag: member="WinEvent::~WinEvent" ref="ee9f64ac5a3c5ae3ce3a78f1e7179009" args="()" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWinEvent.html#ee9f64ac5a3c5ae3ce3a78f1e7179009">~WinEvent</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destructor. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWinEvent.html#cfaf35e40fc0a6ef46fcac259debe8e0">parse</a> (const wstring dataString)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Parse a vCalendar string and fills the propertyMap.  <a href="#cfaf35e40fc0a6ef46fcac259debe8e0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual wstring &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWinEvent.html#48ec46a5018215f4bdba1afb4cc9abc2">toString</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Format and return a vCalendar string from the propertyMap.  <a href="#48ec46a5018215f4bdba1afb4cc9abc2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="d3098057b57561a8ec12bc8af439d040"></a><!-- doxytag: member="WinEvent::getRecPattern" ref="d3098057b57561a8ec12bc8af439d040" args="()" -->
virtual <a class="el" href="classWinRecurrence.html">WinRecurrence</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWinEvent.html#d3098057b57561a8ec12bc8af439d040">getRecPattern</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns a pointer to the (internally owned) <a class="el" href="classWinRecurrence.html">WinRecurrence</a>. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="9a3a6a3bd917b458cd4870a078279c78"></a><!-- doxytag: member="WinEvent::getExcludeDates" ref="9a3a6a3bd917b458cd4870a078279c78" args="()" -->
exceptionList *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWinEvent.html#9a3a6a3bd917b458cd4870a078279c78">getExcludeDates</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns a pointer to the list (internally owned) of exclude dates. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="7ccd29e04b88ef9b3e2af866df39af62"></a><!-- doxytag: member="WinEvent::getIncludeDates" ref="7ccd29e04b88ef9b3e2af866df39af62" args="()" -->
exceptionList *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWinEvent.html#7ccd29e04b88ef9b3e2af866df39af62">getIncludeDates</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns a pointer to the list (internally owned) of include dates. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="61300ad768b331459d4008491bf37ab2"></a><!-- doxytag: member="WinEvent::getRecipients" ref="61300ad768b331459d4008491bf37ab2" args="()" -->
recipientList *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWinEvent.html#61300ad768b331459d4008491bf37ab2">getRecipients</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns a pointer to the list (internally owned) of recipients. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="fc99127887984fa52a5b4c26647f3198"></a><!-- doxytag: member="WinEvent::getTimezone" ref="fc99127887984fa52a5b4c26647f3198" args="()" -->
const TIME_ZONE_INFORMATION *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWinEvent.html#fc99127887984fa52a5b4c26647f3198">getTimezone</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns a pointer to the timezone information for this event, NULL if timezone is not used (not set). <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="769f054ca45231fd603964fa36343433"></a><!-- doxytag: member="WinEvent::setTimezone" ref="769f054ca45231fd603964fa36343433" args="(const TIME_ZONE_INFORMATION *tz)" -->
void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWinEvent.html#769f054ca45231fd603964fa36343433">setTimezone</a> (const TIME_ZONE_INFORMATION *tz)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Copies the given timezone for this event. 'useTimezone' is set to true. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="0534c07d69af75705d083a7a1453eda7"></a><!-- doxytag: member="WinEvent::hasTimezone" ref="0534c07d69af75705d083a7a1453eda7" args="()" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWinEvent.html#0534c07d69af75705d083a7a1453eda7">hasTimezone</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns true if this event has a timezone information, and uses it. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">long&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWinEvent.html#c9ddc17b9a03d1a0a1921e3033242bd0">getCRC</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Return the crc value of the internal map with all values.  <a href="#c9ddc17b9a03d1a0a1921e3033242bd0"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWinEvent.html#1fd3cd31f0a61b7bac6f80ee915ca7dc">getIntervalOfRecurrence</a> (int *yearBegin, int *yearEnd)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Retrieves the interval when the recurrence occurrs, in years.  <a href="#1fd3cd31f0a61b7bac6f80ee915ca7dc"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Protected Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="c6c6ef180eee5c7ac6f4ba6a938f9658"></a><!-- doxytag: member="WinEvent::excludeDate" ref="c6c6ef180eee5c7ac6f4ba6a938f9658" args="" -->
exceptionList&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWinEvent.html#c6c6ef180eee5c7ac6f4ba6a938f9658">excludeDate</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">List of occurrences dates to exclude (recurring exceptions to delete). <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="e231fa2adcae25726650802f424ea630"></a><!-- doxytag: member="WinEvent::includeDate" ref="e231fa2adcae25726650802f424ea630" args="" -->
exceptionList&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWinEvent.html#e231fa2adcae25726650802f424ea630">includeDate</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">List of occurrences dates to include (recurring exceptions to add). <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="173f4fcc3eda966e4b8889d8e46bc385"></a><!-- doxytag: member="WinEvent::recipients" ref="173f4fcc3eda966e4b8889d8e46bc385" args="" -->
recipientList&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWinEvent.html#173f4fcc3eda966e4b8889d8e46bc385">recipients</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">List of recipients (attendees) for this event. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">TIME_ZONE_INFORMATION&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWinEvent.html#dea99e9a5a459b88582e255811742cfd">tzInfo</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The timezone structure for this event.  <a href="#dea99e9a5a459b88582e255811742cfd"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="fbbc00b725fbabbf9439304d3bdc693f"></a><!-- doxytag: member="WinEvent::useTimezone" ref="fbbc00b725fbabbf9439304d3bdc693f" args="" -->
bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classWinEvent.html#fbbc00b725fbabbf9439304d3bdc693f">useTimezone</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">true if this event has a timezone information, and uses it. <br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Rapresents an event object for Windows Clients. 
<p>
The object can be filled passing a vCalendar, or filling directly the map. Calling 'toString()' a vCalendar is formatted and returned. 
<p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="1fd3cd31f0a61b7bac6f80ee915ca7dc"></a><!-- doxytag: member="WinEvent::getIntervalOfRecurrence" ref="1fd3cd31f0a61b7bac6f80ee915ca7dc" args="(int *yearBegin, int *yearEnd)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WinEvent::getIntervalOfRecurrence           </td>
          <td>(</td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>yearBegin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&nbsp;</td>
          <td class="paramname"> <em>yearEnd</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [protected]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Retrieves the interval when the recurrence occurrs, in years. 
<p>
It checks the "Start" property and the "PatternEndDate" property. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>yearBegin</em>&nbsp;</td><td>[IN-OUT] the year when recurrence begins </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>yearEnd</em>&nbsp;</td><td>[IN-OUT] the year when recurrence ends </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="cfaf35e40fc0a6ef46fcac259debe8e0"></a><!-- doxytag: member="WinEvent::parse" ref="cfaf35e40fc0a6ef46fcac259debe8e0" args="(const wstring dataString)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual int WinEvent::parse           </td>
          <td>(</td>
          <td class="paramtype">const wstring&nbsp;</td>
          <td class="paramname"> <em>dataString</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Parse a vCalendar string and fills the propertyMap. 
<p>
The map is cleared and will contain only found properties at the end of the parsing. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>dataString</em>&nbsp;</td><td>input vCalendar string to be parsed </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 if no errors </dd></dl>

<p>
Implements <a class="el" href="classWinItem.html#1d7a0c54c09f0bbe080806e202f72e51">WinItem</a>.
<p>
Reimplemented in <a class="el" href="classWinEventSIF.html#361d652d6381dd79de5aa78bcb607038">WinEventSIF</a>.
</div>
</div><p>
<a class="anchor" name="48ec46a5018215f4bdba1afb4cc9abc2"></a><!-- doxytag: member="WinEvent::toString" ref="48ec46a5018215f4bdba1afb4cc9abc2" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">virtual wstring&amp; WinEvent::toString           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Format and return a vCalendar string from the propertyMap. 
<p>
Not supported properties are ignored and so not formatted as they don't have a correspondence in propertyMap. <dl class="return" compact><dt><b>Returns:</b></dt><dd>the vCalendar string formatted, reference to internal wstring </dd></dl>

<p>
Implements <a class="el" href="classWinItem.html#03832f44de60b01908967f8e7f793c27">WinItem</a>.
<p>
Reimplemented in <a class="el" href="classWinEventSIF.html#d74d240677945d0359a8f2631ba2ff2c">WinEventSIF</a>.
</div>
</div><p>
<a class="anchor" name="c9ddc17b9a03d1a0a1921e3033242bd0"></a><!-- doxytag: member="WinEvent::getCRC" ref="c9ddc17b9a03d1a0a1921e3033242bd0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">long WinEvent::getCRC           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [virtual]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return the crc value of the internal map with all values. 
<p>
It uses only the values of the map not the key. Overrides method of <a class="el" href="classWinItem.html">WinItem</a>, to include recurring properties and event exceptions in the crc. 
<p>
Reimplemented from <a class="el" href="classWinItem.html#ab35f0bbc4ef12aec9edffc3ec4b8fe4">WinItem</a>.
</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="dea99e9a5a459b88582e255811742cfd"></a><!-- doxytag: member="WinEvent::tzInfo" ref="dea99e9a5a459b88582e255811742cfd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">TIME_ZONE_INFORMATION <a class="el" href="classWinEvent.html#dea99e9a5a459b88582e255811742cfd">WinEvent::tzInfo</a><code> [protected]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
The timezone structure for this event. 
<p>
It can be set/get using <a class="el" href="classWinEvent.html#fc99127887984fa52a5b4c26647f3198">getTimezone()</a> and <a class="el" href="classWinEvent.html#769f054ca45231fd603964fa36343433">setTimezone()</a> methods. If the timezone is set, it will be formatted following vCalendar 1.0 specs when calling <a class="el" href="classWinEvent.html#48ec46a5018215f4bdba1afb4cc9abc2">toString()</a> method ("TZ" and "DAYLIGHT" properties). <dl class="note" compact><dt><b>Note:</b></dt><dd>Recurring properties will be in local time if timezone is used. </dd></dl>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li>src/include/windows/vocl/<a class="el" href="WinEvent_8h-source.html">WinEvent.h</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Fri Jul 25 15:04:24 2008 for Funambol C++ Client Library by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1 </small></address>
</body>
</html>
